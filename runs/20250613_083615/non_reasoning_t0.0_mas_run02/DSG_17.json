{
  "nodes": {
    "SP-3": {
      "node_id": "SP-3",
      "node_kind": "Component",
      "name": "Solar Panel",
      "description": "Converts sunlight into electrical energy",
      "embodiment": {
        "principle": "Photovoltaic",
        "description": "",
        "design_parameters": {},
        "cost_estimate": 1000.0,
        "mass_estimate": 12.0,
        "status": "draft"
      },
      "physics_models": [
        {
          "name": "Electrical Power Generation",
          "equations": "P = \u03b7 \u22c5 A \u22c5 G",
          "coding_directives": "Python",
          "python_code": "## Reasoning Process\n\nThe problem involves modeling the electrical power generation of a solar panel. The given equation is P = \u03b7 \u22c5 A \u22c5 G, where:\n\n* P is the electrical power generated by the solar panel\n* \u03b7 is the efficiency of the solar panel\n* A is the area of the solar panel\n* G is the solar irradiance\n\nThe assumption is that the solar irradiance is constant.\n\nTo create a high-fidelity physics-based simulation, we will:\n\n1. Define the parameters of the solar panel, including its efficiency and area.\n2. Use the given equation to calculate the electrical power generated by the solar panel.\n3. Expose key parameters via `argparse` to allow for easy modification of the simulation.\n4. Use Python's `logging` module to log important events and errors.\n5. Write the results to an `./outputs` folder in a portable format (e.g., CSV).\n6. Include a minimal pytest suite to verify the correctness of the simulation.\n\n## Code\n\n```python\nimport numpy as np\nimport argparse\nimport logging\nimport os\nimport csv\n\ndef calculate_power(eta, A, G):\n    \"\"\"\n    Calculate the electrical power generated by the solar panel.\n\n    Parameters:\n    eta (float): Efficiency of the solar panel\n    A (float): Area of the solar panel\n    G (float): Solar irradiance\n\n    Returns:\n    float: Electrical power generated by the solar panel\n    \"\"\"\n    return eta * A * G\n\ndef main():\n    # Define the parser\n    parser = argparse.ArgumentParser(description='Solar Panel Power Generation Simulation')\n    parser.add_argument('--eta', type=float, default=0.20, help='Efficiency of the solar panel')\n    parser.add_argument('--A', type=float, default=10.0, help='Area of the solar panel')\n    parser.add_argument('--G', type=float, default=1000.0, help='Solar irradiance')\n    parser.add_argument('--verbosity', type=int, default=0, help='Verbosity level')\n    args = parser.parse_args()\n\n    # Set up logging\n    logging.basicConfig(level=logging.INFO if args.verbosity > 0 else logging.WARNING)\n\n    # Calculate the power\n    power = calculate_power(args.eta, args.A, args.G)\n\n    # Log the result\n    logging.info(f'Calculated power: {power} W')\n\n    # Write the result to a CSV file\n    output_dir = './outputs'\n    if not os.path.exists(output_dir):\n        os.makedirs(output_dir)\n    with open(os.path.join(output_dir, 'power.csv'), 'w', newline='') as csvfile:\n        writer = csv.writer(csvfile)\n        writer.writerow(['Power (W)'])\n        writer.writerow([power])\n\n    # Quick-look plot\n    import matplotlib.pyplot as plt\n    plt.plot([0, 1], [0, power])\n    plt.xlabel('Time (s)')\n    plt.ylabel('Power (W)')\n    plt.title('Solar Panel Power Generation')\n    plt.savefig(os.path.join(output_dir, 'power_plot.png'))\n\ndef test_calculate_power():\n    # Test the calculate_power function\n    eta = 0.20\n    A = 10.0\n    G = 1000.0\n    expected_power = 2000.0\n    assert np.isclose(calculate_power(eta, A, G), expected_power)\n\nif __name__ == '__main__':\n    main()\n```\n\n## Usage\n\nTo run the simulation, save the code to a file (e.g., `solar_panel.py`) and execute it using Python:\n```bash\npython solar_panel.py\n```\nThis will calculate the electrical power generated by the solar panel using the default parameters and write the result to a CSV file in the `./outputs` folder. You can modify the parameters using the `--eta`, `--A`, and `--G` command-line arguments. For example:\n```bash\npython solar_panel.py --eta 0.25 --A 15.0 --G 1200.0\n```\nThis will calculate the power using the specified parameters and write the result to a new CSV file.\n\n## Testing\n\nTo run the tests, save the code to a file (e.g., `solar_panel.py`) and execute the tests using pytest:\n```bash\npytest solar_panel.py\n```\nThis will run the `test_calculate_power` function and verify that the `calculate_power` function returns the expected result.",
          "coder_notes": "",
          "assumptions": [
            "Constant solar irradiance"
          ],
          "status": "Validated"
        }
      ],
      "linked_reqs": [
        "SR-01",
        "SR-02",
        "SR-03"
      ],
      "verification_plan": "Testing under controlled conditions",
      "maturity": "High",
      "tags": [
        "Renewable Energy",
        "Solar Power"
      ]
    }
  },
  "edges": [],
  "workflow_complete": false
}